{% extends "base.html" %}
{% block title %}Bleeze{% endblock %}

{% block body %}

<div class="header-bar">
    <a href="javascript:void(0);" onclick="openStoreSelectorPopup()" id="header-store-selector-link">
        <div>
            <h4>Store Selector</h4>
        </div>
    </a>
</div>

<div class="container">
    <div class="sidebar">
        <div id="sidebar-menu-title">
            <h2>Bleeze Store {{ store.id }}</h2>
            <h3>{{ store.address }} <br> {{ store.city }}, {{ store.state }}</h3>
        </div>

        <a href="/{{ store.id }}" class="sidebar-menu-item">
            <div>
                <h4>Unit Selector</h4>
            </div>
        </a>

        <a href="/{{ store.id }}/renters" class="sidebar-menu-item">
            <div>
                <h4>Renter List</h4>
            </div>
        </a>
        
        <a href="/{{ store.id }}/retail" class="sidebar-menu-item">
            <div>
                <h4>Retail</h4>
            </div>
        </a>
    </div>

    <div id="unit_list_div">
        {% for unit in units %}
        <div class="unit-item {% if loop.index is divisibleby(2) %}even{% else %}odd{% endif %}">
            <a href="/{{ store.id }}/unit/{{ unit.id }}">
                <h4>Unit Number: {{ unit.unit_number }}</h4>
            </a>
            <p>Status: {% if unit.rented %}Occupied{% else %}Vacant{% endif %}</p>
            <p>Type: {{ unit.type }}</p>
            <p>Renter: {% if unit.renter %}<a href="/renter/{{ unit.renter.id }}">{{ unit.renter.first_name }} {{ unit.renter.last_name }}</a>{% else %}-{% endif %}</p>
        </div>
        {% endfor %}
    </div>

    <div id="store-selector-box-js">
        <h2><a href="javascript:void(0);" onclick="closeStoreSelectorPopup()" id="store-selector-box-js-close-button">X</a></h2>
    </div>

</div>


<script>

    function openStoreSelectorPopup() {
        let storeSelectorBox = document.getElementById('store-selector-box-js')
        storeSelectorBox.style.display = 'block'
    }

    function closeStoreSelectorPopup() {
        let storeSelectorBox = document.getElementById('store-selector-box-js');
        storeSelectorBox.style.display = 'none';
    }
</script>
    
{% endblock %}
